<div [@dropDownAnimation]>
  <tm-common-page>
    <ng-container page-header>
      {{ formHeader }}
    </ng-container>
    <ng-container page-body>
      <form (submit)="sendForm()"
            [formGroup]="categoryForm">
        <div class="row">
          <div class="col-6">
            <mat-form-field class="w-100">
              <input aria-label="Name"
                     formControlName="name"
                     matInput
                     placeholder="Category name"
                     required
                     type="text">
            </mat-form-field>
            <ngx-validation-messages [for]="categoryForm.get('name')"></ngx-validation-messages>
          </div>
          <div class="col-6">
            <mat-form-field class="w-100">
              <input aria-label="Prefix"
                     formControlName="prefix"
                     matInput
                     placeholder="Category prefix"
                     required
                     type="text">
            </mat-form-field>
            <ngx-validation-messages [for]="categoryForm.get('prefix')"></ngx-validation-messages>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <mat-form-field class="w-100">
                                    <textarea aria-label="Description"
                                              formControlName="description"
                                              matAutosizeMaxRows="10"
                                              matAutosizeMinRows="7"
                                              matInput
                                              matTextareaAutosize
                                              placeholder="Category description">
                                    </textarea>
            </mat-form-field>
            <ngx-validation-messages [for]="categoryForm.get('description')"></ngx-validation-messages>
          </div>
        </div>

        <div class="row">
          <div class="col-2">
            <span class="mr-2">Category icon</span>
            <i [ngClass]="['category-form_preview_icon', 'fa', categoryForm.get('icon').value, 'fa-2x']"></i>
          </div>
          <div class="col-2">
            <button (click)="onShowIconList()"
                    class="w-100"
                    mat-raised-button
                    type="button">
              Change icon
            </button>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-2">
            <button [disabled]="categoryForm.invalid"
                    class="w-100"
                    color="accent"
                    mat-raised-button
                    type="submit">
              {{buttonName}}
            </button>
          </div>
          <div class="col-2">
            <button (click)="router.navigate(['/home'])"
                    class="w-100"
                    mat-raised-button
                    type="button">
              Close
            </button>
          </div>
        </div>
      </form>
    </ng-container>
  </tm-common-page>
</div>
