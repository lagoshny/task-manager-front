<!--<div [@dropDownAnimation]>-->
<div>
    <tm-common-page>
        <ng-container page-header>
            {{ formHeader }}
        </ng-container>
        <ng-container page-body>
            <form [formGroup]="taskForm"
                  (submit)="sendForm()">
                <div class="row">
                    <div class="col-12">
                        <div class="row">
                            <div class="col-6">
                                <mat-form-field class="w-100">
                                    <input type="text"
                                           aria-label="Name"
                                           placeholder="Task name"
                                           formControlName="name"
                                           matInput
                                           required>
                                    <mat-error ngxValidationMessages [for]="taskForm.get('name')"></mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-6">
                                <mat-form-field class="w-100">
                                    <input type="text"
                                           aria-label="Category"
                                           placeholder="Choose category"
                                           formControlName="category"
                                           matInput
                                           required
                                           [matAutocomplete]="auto">
                                    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFn">
                                        <mat-option *ngFor="let option of filteredCategories | async" [value]="option">
                                            {{option.name}}
                                        </mat-option>
                                    </mat-autocomplete>
                                    <mat-error ngxValidationMessages [for]="taskForm.get('category')"></mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12">
                                <mat-form-field class="w-100">
                                    <textarea aria-label="Description"
                                              placeholder="Task description"
                                              formControlName="description"
                                              matTextareaAutosize
                                              matAutosizeMinRows="7"
                                              matAutosizeMaxRows="10"
                                              matInput>
                                    </textarea>
                                    <mat-error ngxValidationMessages [for]="taskForm.get('description')"></mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <mat-form-field class="w-100">
                                    <mat-select placeholder="Task priority"
                                                formControlName="priority"
                                                required>
                                        <mat-option *ngFor="let option of taskPriorities" [value]="option">
                                            <span [style.color]="option.color">
                                                <i [ngClass]="['fa', option.icon]"></i> {{option.name}}
                                            </span>
                                        </mat-option>
                                    </mat-select>
                                    <mat-error ngxValidationMessages [for]="taskForm.get('priority')"></mat-error>
                                </mat-form-field>
                            </div>

<!--                            <div class="col-6">-->
<!--                                <mat-form-field>-->
<!--                                    <input placeholder="Choose a date"-->
<!--                                           matInput-->
<!--                                           [matDatepicker]="picker">-->
<!--                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>-->
<!--                                    <mat-datepicker #picker></mat-datepicker>-->
<!--                                </mat-form-field>-->
<!--                            </div>-->


                        </div>
                    </div>
                </div>
            </form>
        </ng-container>
    </tm-common-page>
</div>
